"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{90107:function(I,C,l){l.r(C),l.d(C,{default:function(){return Q}});var b=l(48305),z=l.n(b),f=l(75271),S={wrapper:"wrapper___MuHKw",headerWrapper:"headerWrapper___NNWmi",mapWrapper:"mapWrapper___Ftb41",map:"map___TvYQc"},H=l(41978),D=l.n(H),R=l(2679),y={\u4E0A\u6D77:[121.4648,31.2891],\u4E1C\u839E:[113.8953,22.901],\u4E1C\u8425:[118.7073,37.5513],\u4E2D\u5C71:[113.4229,22.478],\u4E34\u6C7E:[111.4783,36.1615],\u4E34\u6C82:[118.3118,35.2936],\u4E39\u4E1C:[124.541,40.4242],\u4E3D\u6C34:[119.5642,28.1854],\u4E4C\u9C81\u6728\u9F50:[87.9236,43.5883],\u4F5B\u5C71:[112.8955,23.1097],\u4FDD\u5B9A:[115.0488,39.0948],\u5170\u5DDE:[103.5901,36.3043],\u5305\u5934:[110.3467,41.4899],\u5317\u4EAC:[116.4551,40.2539],\u5317\u6D77:[109.314,21.6211],\u5357\u4EAC:[118.8062,31.9208],\u5357\u5B81:[108.479,23.1152],\u5357\u660C:[116.0046,28.6633],\u5357\u901A:[121.1023,32.1625],\u53A6\u95E8:[118.1689,24.6478],\u53F0\u5DDE:[121.1353,28.6688],\u5408\u80A5:[117.29,32.0581],\u547C\u548C\u6D69\u7279:[111.4124,40.4901],\u54B8\u9633:[108.4131,34.8706],\u54C8\u5C14\u6EE8:[127.9688,45.368],\u5510\u5C71:[118.4766,39.6826],\u5609\u5174:[120.9155,30.6354],\u5927\u540C:[113.7854,39.8035],\u5927\u8FDE:[122.2229,39.4409],\u5929\u6D25:[117.4219,39.4189],\u592A\u539F:[112.3352,37.9413],\u5A01\u6D77:[121.9482,37.1393],\u5B81\u6CE2:[121.5967,29.6466],\u5B9D\u9E21:[107.1826,34.3433],\u5BBF\u8FC1:[118.5535,33.7775],\u5E38\u5DDE:[119.4543,31.5582],\u5E7F\u5DDE:[113.5107,23.2196],\u5ECA\u574A:[116.521,39.0509],\u5EF6\u5B89:[109.1052,36.4252],\u5F20\u5BB6\u53E3:[115.1477,40.8527],\u5F90\u5DDE:[117.5208,34.3268],\u5FB7\u5DDE:[116.6858,37.2107],\u60E0\u5DDE:[114.6204,23.1647],\u6210\u90FD:[103.9526,30.7617],\u626C\u5DDE:[119.4653,32.8162],\u627F\u5FB7:[117.5757,41.4075],\u62C9\u8428:[91.1865,30.1465],\u65E0\u9521:[120.3442,31.5527],\u65E5\u7167:[119.2786,35.5023],\u6606\u660E:[102.9199,25.4663],\u676D\u5DDE:[119.5313,29.8773],\u67A3\u5E84:[117.323,34.8926],\u67F3\u5DDE:[109.3799,24.9774],\u682A\u6D32:[113.5327,27.0319],\u6B66\u6C49:[114.3896,30.6628],\u6C55\u5934:[117.1692,23.3405],\u6C5F\u95E8:[112.6318,22.1484],\u6C88\u9633:[123.1238,42.1216],\u6CA7\u5DDE:[116.8286,38.2104],\u6CB3\u6E90:[114.917,23.9722],\u6CC9\u5DDE:[118.3228,25.1147],\u6CF0\u5B89:[117.0264,36.0516],\u6CF0\u5DDE:[120.0586,32.5525],\u6D4E\u5357:[117.1582,36.8701],\u6D4E\u5B81:[116.8286,35.3375],\u6D77\u53E3:[110.3893,19.8516],\u6DC4\u535A:[118.0371,36.6064],\u6DEE\u5B89:[118.927,33.4039],\u6DF1\u5733:[114.5435,22.5439],\u6E05\u8FDC:[112.9175,24.3292],\u6E29\u5DDE:[120.498,27.8119],\u6E2D\u5357:[109.7864,35.0299],\u6E56\u5DDE:[119.8608,30.7782],\u6E58\u6F6D:[112.5439,27.7075],\u6EE8\u5DDE:[117.8174,37.4963],\u6F4D\u574A:[119.0918,36.524],\u70DF\u53F0:[120.7397,37.5128],\u7389\u6EAA:[101.9312,23.8898],\u73E0\u6D77:[113.7305,22.1155],\u76D0\u57CE:[120.2234,33.5577],\u76D8\u9526:[121.9482,41.0449],\u77F3\u5BB6\u5E84:[114.4995,38.1006],\u798F\u5DDE:[119.4543,25.9222],\u79E6\u7687\u5C9B:[119.2126,40.0232],\u7ECD\u5174:[120.564,29.7565],\u804A\u57CE:[115.9167,36.4032],\u8087\u5E86:[112.1265,23.5822],\u821F\u5C71:[122.2559,30.2234],\u82CF\u5DDE:[120.6519,31.3989],\u83B1\u829C:[117.6526,36.2714],\u83CF\u6CFD:[115.6201,35.2057],\u8425\u53E3:[122.4316,40.4297],\u846B\u82A6\u5C9B:[120.1575,40.578],\u8861\u6C34:[115.8838,37.7161],\u8862\u5DDE:[118.6853,28.8666],\u897F\u5B81:[101.4038,36.8207],\u897F\u5B89:[109.1162,34.2004],\u8D35\u9633:[106.6992,26.7682],\u8FDE\u4E91\u6E2F:[119.1248,34.552],\u90A2\u53F0:[114.8071,37.2821],\u90AF\u90F8:[114.4775,36.535],\u90D1\u5DDE:[113.4668,34.6234],\u9102\u5C14\u591A\u65AF:[108.9734,39.2487],\u91CD\u5E86:[107.7539,30.1904],\u91D1\u534E:[120.0037,29.1028],\u94DC\u5DDD:[109.0393,35.1947],\u94F6\u5DDD:[106.3586,38.1775],\u9547\u6C5F:[119.4763,31.9702],\u957F\u6625:[125.8154,44.2584],\u957F\u6C99:[113.0823,28.2568],\u957F\u6CBB:[112.8625,36.4746],\u9633\u6CC9:[113.4778,38.0951],\u9752\u5C9B:[120.4651,36.3373],\u97F6\u5173:[113.7964,24.7028]},W=[[{name:"\u5317\u4EAC"},{name:"\u4E0A\u6D77",value:95}],[{name:"\u5317\u4EAC"},{name:"\u5E7F\u5DDE",value:90}],[{name:"\u5317\u4EAC"},{name:"\u5927\u8FDE",value:80}],[{name:"\u5317\u4EAC"},{name:"\u5357\u5B81",value:70}],[{name:"\u5317\u4EAC"},{name:"\u5357\u660C",value:60}],[{name:"\u5317\u4EAC"},{name:"\u62C9\u8428",value:50}],[{name:"\u5317\u4EAC"},{name:"\u957F\u6625",value:40}],[{name:"\u5317\u4EAC"},{name:"\u5305\u5934",value:30}],[{name:"\u5317\u4EAC"},{name:"\u91CD\u5E86",value:20}],[{name:"\u5317\u4EAC"},{name:"\u5E38\u5DDE",value:10}]],k=[[{name:"\u4E0A\u6D77"},{name:"\u5305\u5934",value:95}],[{name:"\u4E0A\u6D77"},{name:"\u6606\u660E",value:90}],[{name:"\u4E0A\u6D77"},{name:"\u5E7F\u5DDE",value:80}],[{name:"\u4E0A\u6D77"},{name:"\u90D1\u5DDE",value:70}],[{name:"\u4E0A\u6D77"},{name:"\u957F\u6625",value:60}],[{name:"\u4E0A\u6D77"},{name:"\u91CD\u5E86",value:50}],[{name:"\u4E0A\u6D77"},{name:"\u957F\u6C99",value:40}],[{name:"\u4E0A\u6D77"},{name:"\u5317\u4EAC",value:30}],[{name:"\u4E0A\u6D77"},{name:"\u4E39\u4E1C",value:20}],[{name:"\u4E0A\u6D77"},{name:"\u5927\u8FDE",value:10}]],w=[[{name:"\u5E7F\u5DDE"},{name:"\u798F\u5DDE",value:95}],[{name:"\u5E7F\u5DDE"},{name:"\u592A\u539F",value:90}],[{name:"\u5E7F\u5DDE"},{name:"\u957F\u6625",value:80}],[{name:"\u5E7F\u5DDE"},{name:"\u91CD\u5E86",value:70}],[{name:"\u5E7F\u5DDE"},{name:"\u897F\u5B89",value:60}],[{name:"\u5E7F\u5DDE"},{name:"\u6210\u90FD",value:50}],[{name:"\u5E7F\u5DDE"},{name:"\u5E38\u5DDE",value:40}],[{name:"\u5E7F\u5DDE"},{name:"\u5317\u4EAC",value:30}],[{name:"\u5E7F\u5DDE"},{name:"\u5317\u6D77",value:20}],[{name:"\u5E7F\u5DDE"},{name:"\u6D77\u53E3",value:10}]],V=null,B="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",E=function(v){for(var a=[],i=0;i<v.length;i++){var n=v[i],e=y[n[0].name],u=y[n[1].name];e&&u&&a.push({fromName:n[0].name,toName:n[1].name,coords:[e,u]})}return a},g=["#a6c84c","#ffa022","#46bee9"],L=function(){var v=[];return[["\u5317\u4EAC",W],["\u4E0A\u6D77",k],["\u5E7F\u5DDE",w]].forEach(function(a,i){v.push({name:a[0]+"\u51FA\u53D1",type:"effectScatter",coordinateSystem:"amap",zlevel:2,rippleEffect:{brushType:"stroke"},symbolSize:function(e){return e[2]/4},showEffectOn:"render",itemStyle:{color:g[i]},data:[{name:a[0],value:y[a[0]].concat([100])}]},{name:a[0]+"\u51FA\u53D1",type:"lines",coordinateSystem:"amap",zlevel:1,effect:{show:!0,period:6,trailLength:.7,color:"#fff",symbolSize:3},lineStyle:{color:g[i],width:0,curveness:.2},data:E(a[1])},{name:a[0]+"\u51FA\u53D1",type:"lines",coordinateSystem:"amap",zlevel:2,effect:{show:!0,period:6,trailLength:0,symbol:B,symbolSize:15},lineStyle:{color:g[i],width:1,opacity:.4,curveness:.2},data:E(a[1])},{name:a[0]+"\u51FA\u53D1",type:"effectScatter",coordinateSystem:"amap",zlevel:2,rippleEffect:{brushType:"stroke"},symbolSize:function(e){return e[2]/4},showEffectOn:"render",itemStyle:{color:g[i]},data:a[1].map(function(n){return{name:n[1].name,value:y[n[1].name].concat([n[1].value])}})})}),v},N=l(53202),o=l(52676),O=function(p){var v=p.showDistrict,a=p.mapkey,i=(0,f.useRef)(null),n=(0,f.useRef)(null),e=(0,f.useRef)(null),u=(0,f.useRef)(null);function x(m){n.current.setBounds(m.getBounds(),null,null,!0),e.current.renderSubFeatures(m,function(c,r){return{cursor:"default",bubble:!0,strokeColor:"black",strokeWeight:1.5,fillColor:null}}),console.log(e.current),e.current.renderParentFeature(m,{cursor:"default",bubble:!0,strokeColor:"black",strokeWeight:1.5,fillColor:null})}function M(m){e.current.setHoverFeature(null),x(m)}var d=function(c,r){e.current.loadAreaNode(c,function(s,t){if(s){r&&r(s),console.error(s);return}r&&r(null,t)})},F=function(c,r){if(u.current&&""+u.current.getAdcode()==""+c){console.log("adcode",c);return}d(c,function(s,t){if(s){r&&r(s);return}u.current=t,e.current.setAreaNodesForLocating([u.current]),M(t),r&&r(null,t)})},X=function(c,r){if(c)for(var s=c.properties,t=e.current.findFeaturePolygonsByAdcode(s.adcode),h=0,j=t.length;h<j;h++)t[h].setOptions({fillColor:r?"#999":null,fillOpacity:r?.5:.2})},Z=function(){AMapUI.loadUI(["geo/DistrictExplorer"],function(c){e.current=new c({map:n.current,eventSupport:!0,preload:[1e5]}),e.current.on("featureMouseout featureMouseover",function(r,s){}),e.current.on("featureClick",function(r,s){var t=s.properties;F(t.adcode)}),e.current.on("outsideClick",function(r){e.current.locatePosition(r.originalEvent.lnglat,function(s,t){t&&t.length>1?F(t[1].properties.adcode):(e.current.clearFeaturePolygons(),d(1e5,function(h,j){h||(u.current=j,e.current.setAreaNodesForLocating([u.current]),e.current.setHoverFeature(null))}))},{levelLimit:2})})})},Y=function(){var c=R.S1(i.current),r=L(),s={amap:{center:[104.114129,37.550339],zoom:5,roam:!0,renderOnMoving:!1},color:["gold","aqua","lime"],title:{text:"\u822A\u73ED\u98DE\u884C\u6A21\u62DF",left:"center",textStyle:{color:"red"}},tooltip:{trigger:"item"},legend:{orient:"vertical",top:"bottom",left:"right",data:["\u5317\u4EAC\u51FA\u53D1","\u4E0A\u6D77\u51FA\u53D1","\u5E7F\u5DDE\u51FA\u53D1"],textStyle:{color:"#fff"}},series:r};c.setOption(s);var t=c.getModel().getComponent("amap").getAMap();n.current=t,v&&Z()};(0,f.useEffect)(function(){D().reset(),D().load({key:a,plugins:["AMap.Scale","AMap.ToolBar","AMap.RangingTool"],version:"2.0",AMapUI:{version:"1.1",plugins:["overlay/SimpleMarker"]}}).then(Y)},[]);var T=function(){e.current&&(e.current.setHoverFeature(null),e.current.clearFeaturePolygons(),e.current.offAll(),e.current.destroy(),u.current=null,e.current=null)};return(0,f.useEffect)(function(){if(n.current)return!e.current&&v&&Z(),T(),function(){T()}},[v]),(0,o.jsxs)("div",{className:S.mapWrapper,children:[(0,o.jsx)(N.Z,{description:"Please input A valid AMap JSAPI key"}),(0,o.jsx)("div",{ref:i,className:S.map})]})},K=l(58319),J=l(917),A=l(86872),P=l(18016),U=l(72121),G=K.Z.Search;function Q(){var p=(0,f.useState)(!1),v=z()(p,2),a=v[0],i=v[1],n=(0,f.useState)(""),e=z()(n,2),u=e[0],x=e[1];return(0,o.jsxs)("div",{className:S.wrapper,children:[(0,o.jsx)(J.Z,{children:(0,o.jsxs)(A.Z,{align:"center",size:"large",children:[(0,o.jsxs)(A.Z,{children:[(0,o.jsx)(P.Z.Text,{children:"Show District"}),(0,o.jsx)(U.Z,{checkedChildren:"Show",unCheckedChildren:"Hidden",checked:a,onChange:function(d){return i(d)}})]}),(0,o.jsxs)(A.Z,{children:[(0,o.jsx)(P.Z.Text,{children:"AMap Key"}),(0,o.jsx)(G,{placeholder:"input map key",enterButton:"Apply",onSearch:function(d){return x(d)}})]})]})}),u?(0,o.jsx)(O,{showDistrict:a,mapkey:u},u):(0,o.jsx)(N.Z,{description:"Please input A valid AMap JSAPI key"})]})}}}]);
